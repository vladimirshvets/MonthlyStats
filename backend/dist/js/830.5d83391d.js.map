{"version":3,"file":"js/830.5d83391d.js","mappings":"yLAEaA,MAAM,Y,GAaNA,MAAM,a,oLAdfC,EAAAA,EAAAA,IAiBU,iBAhBNC,EAAAA,EAAAA,GAYM,MAZNC,EAYM,EAXFC,EAAAA,EAAAA,IAUSC,EAAA,CATLC,MAAM,UACNC,MAAM,OACN,YAAU,QACVP,MAAM,a,mBAEN,IAAkC,EAAlCI,EAAAA,EAAAA,IAAkCI,EAAA,M,kBAApB,IAAK,UAAL,Y,OACdJ,EAAAA,EAAAA,IAEcK,EAAA,M,kBADV,IAAgJ,EAAhJL,EAAAA,EAAAA,IAAgJM,EAAA,CAAnIV,MAAM,aAAcW,GAAE,CAAAC,KAAA,aAAAC,OAAA,CAAAC,GAAsCC,EAAAC,YAAY,c,mBAAgB,IAA6B,mBAA1BD,EAAAC,YAAY,aAAD,M,oCAI/Hd,EAAAA,EAAAA,GAEM,MAFNe,EAEM,EADFb,EAAAA,EAAAA,IAAoCc,EAAA,CAAhBC,MAAOC,EAAAD,OAAK,qB,oDAS5C,GACIP,KAAM,WACNS,WAAY,CACRC,gBAAeA,EAAAA,GAEnBC,OACI,MAAO,CACHJ,MAAO,GAEf,EACAK,sBACUC,EAAAA,EAAAA,IACG,qBACJC,MAAKC,IACFC,KAAKT,MAAQQ,EAASJ,KACtBK,KAAKC,WAAW,GAE5B,EACAC,QAAS,CACLd,YAAYe,GACR,OAAOC,IAAO,IAAIC,MAAQF,OAAOA,EACrC,EACAG,QAAQC,GACJ,OAAOA,EAAOC,QACV,CAACC,EAAKC,IAASD,EAAME,OAAOD,IAAO,EAE3C,EACAT,YACID,KAAKT,MAAMqB,SAASF,IAChBA,EAAKG,YAAc,GACnB,IAAK,IAAIC,EAAI,EAAGA,EAAI,EAAGA,IACnBJ,EAAKG,YAAYE,KACbL,EAAKM,KAAKF,GAAKJ,EAAKO,WAAWH,IAGvCJ,EAAKQ,UAAYlB,KAAKM,QAAQI,EAAKG,aACnCH,EAAKS,gBAAkBT,EAAKQ,UAAYlB,KAAKoB,gBAAgBV,EAAKW,WAAa,GAAG,GAE1F,EACAD,gBAAgBE,GACZ,OAAe,GAARA,CACX,I,QC3DR,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://client/./src/views/HomePage.vue","webpack://client/./src/views/HomePage.vue?150d"],"sourcesContent":["<template>\n    <section>\n        <div class=\"nav-wrap\">\n            <v-card\n                color=\"#385F73\"\n                theme=\"dark\"\n                max-width=\"300px\"\n                class=\"nav-today\"\n            >\n                <v-card-title>TODAY</v-card-title>\n                <v-card-text>\n                    <router-link class=\"month-link\" :to=\"{ name: 'MonthStats', params: { id: formatToday('YYYY-MM') } }\">{{ formatToday('MMM YYYY') }}</router-link>\n                </v-card-text>\n            </v-card>\n        </div>\n        <div class=\"grid-wrap\">\n            <work-results-grid :items=\"items\" />\n        </div>\n    </section>\n</template>\n\n<script>\nimport axios from 'axios';\nimport moment from 'moment';\nimport WorkResultsGrid from '@/components/WorkResultsGrid.vue';\nexport default {\n    name: 'HomePage',\n    components: {\n        WorkResultsGrid\n    },\n    data() {\n        return {\n            items: []\n        }\n    },\n    async mounted() {\n        await axios\n            .get('/api/work-results')\n            .then(response => {\n                this.items = response.data;\n                this.calcStats();\n            });\n    },\n    methods: {\n        formatToday(format) {\n            return moment(new Date()).format(format);\n        },\n        calcSum(values) {\n            return values.reduce(\n                (sum, item) => sum + Number(item), 0\n            );\n        },\n        calcStats() {\n            this.items.forEach((item) => {\n                item.sectorsTime = [];\n                for (let i = 0; i < 4; i++) {\n                    item.sectorsTime.push(\n                        item.qtys[i] * item.normOfTime[i]\n                    );\n                }\n                item.totalTime = this.calcSum(item.sectorsTime);\n                item.dailyPercentage = item.totalTime / this.calcWorkingMins(item.dailyTime) * 100;\n            });\n        },\n        calcWorkingMins(hours) {\n            return hours * 60;\n        },\n    }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.nav-wrap {\n    .nav-today {\n        margin: 1em;\n\n        a {\n            color: #fff;\n            font-size: 18px;\n        }\n    }\n}\n</style>","import { render } from \"./HomePage.vue?vue&type=template&id=b60dea7c&scoped=true\"\nimport script from \"./HomePage.vue?vue&type=script&lang=js\"\nexport * from \"./HomePage.vue?vue&type=script&lang=js\"\n\nimport \"./HomePage.vue?vue&type=style&index=0&id=b60dea7c&lang=less&scoped=true\"\n\nimport exportComponent from \"/Users/vshvets/pets/Projects/MonthlyStats/client/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-b60dea7c\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_createElementVNode","_hoisted_1","_createVNode","_component_v_card","color","theme","_component_v_card_title","_component_v_card_text","_component_router_link","to","name","params","id","$options","formatToday","_hoisted_2","_component_work_results_grid","items","$data","components","WorkResultsGrid","data","async","axios","then","response","this","calcStats","methods","format","moment","Date","calcSum","values","reduce","sum","item","Number","forEach","sectorsTime","i","push","qtys","normOfTime","totalTime","dailyPercentage","calcWorkingMins","dailyTime","hours","__exports__","render"],"sourceRoot":""}